# CommentTree — Древовидные комментарии на Go

Простой сервис для работы с комментариями с поддержкой вложенности, постраничной навигации и полнотекстового поиска.

## Функциональность

`POST /comments` — создать новый комментарий (с указанием родительского)

`POST /comments/:id` — обновить комментарий

`DELETE /comments/:id` — удалить комментарий и все его вложенные

`GET /comments?parent={id}&limit=10&offset=0` — получить комментарии по родителю с пагинацией

`GET /comments/search?q=ключевое_слово&limit=10&offset=0` — поиск комментариев по ключевым словам

## Простой веб-интерфейс позволяет:

- Просматривать дерево комментариев с визуальной вложенностью (отступы)

- Создавать комментарии и ответы

- Удалять комментарии

- Искать комментарии по ключевым словам

## Архитектура
```
/cmd
  /server/main.go       — запуск сервера
/internal
  /models               — структуры данных (Comment)
/repository             — работа с PostgreSQL (dbpg, retry)
/service                — бизнес-логика комментариев
/handler                — HTTP-эндпоинты (Gin)
/config                 — конфигурация приложения
```
## Слои

Handler — принимает HTTP-запросы, вызывает сервис

Service — инкапсулирует бизнес-логику

Repository — выполняет SQL-запросы к PostgreSQL, включая полнотекстовый поиск

## Запуск
```bash
docker-compose up
```